<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock paper scissors</title>
</head>
<body>
    <p>Rock Paper Scissors</p>


    <button onclick="
    // computerMove=(pickComputermove());
    playGames('rock');
    ">Rock</button>



    <button onclick="
    // computerMove=(pickComputermove());
    playGames('paper');
    ">Paper</button>



    <button onclick="
    // computerMove=(pickComputermove());
    playGames('scissors');
    ">Scissors</button>


    <button onclick="
		score.wins=0;
		score.losses=0;
		score.ties=0;
		localStorage.removeItem('score');
    ">Reset Score</button>

    <script>
			let score=JSON.parse(localStorage.getItem('score') ) || {
                wins:0, //property value pair
                losses:0,
                ties:0
			};

			
        function playGames(playerMove){
            const computerMove=pickComputermove();
            let string='';
            if(playerMove==='scissors'){
                if(computerMove==='rock'){
                string='you lose';
                }
                else if(computerMove==='paper'){
                    string='you win';
                }
                else{
                    string='tie';
                }
                
            }


            else if(playerMove==='paper'){
                if(computerMove==='rock'){
                    string='you win';
                }
                else if(computerMove==='paper'){
                    string='tie';
                }
                else{
                    string ='you lose';
                }
            }


            else if(playerMove==='rock'){
                    if(computerMove==='rock'){
                        string='tie';
                    }
                    else if(computerMove==='paper'){
                        string='you lose';
                    }
                    else{
                        string='you win';
                    }
            }


            if(string==='you win'){
                score.wins+=1;
            }
            else if(string==='you lose'){
                score.losses+=1;
            }
            else if(string==='tie'){
                score.ties+=1;
            }


						localStorage.setItem('score',JSON.stringify(score));

            alert(`You picked ${playerMove}. Computer picked ${computerMove}. ${string} 
wins:${score.wins},loses:${score.losses},ties:${score.ties}`);
        }


        function pickComputermove(){   
            
            const randomNumber=Math.random();
						let computerMove='';
            if(randomNumber>=0 && randomNumber< 1/3){
                computerMove='rock';
            }
            else if(randomNumber>=1/3 && randomNumber< 2/3 ){
                computerMove='paper';
            }
            else if(randomNumber >= 2 / 3 && randomNumber < 1){
                computerMove='scissors';
            }

            return computerMove;
        }
        
    </script>
</body>
</html>